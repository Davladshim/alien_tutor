{% extends "base.html" %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - –ö–∞–ª–µ–Ω–¥–∞—à–∞{% endblock %}

{% block content %}
<div style="text-align: center; margin-bottom: 30px;">
    <h1>–ê–¥–º–∏–Ω—Å–∫–∞—è –ø–∞–Ω–µ–ª—å</h1>
    <p style="color: var(--text-muted); font-size: 16px;">
        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞–º–∏ –∏ –±—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
    </p>
</div>

<!-- –ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê –û–¢–ß–ï–¢–û–í –ò –î–û–ú–ê–®–ï–ö -->
<div class="card" style="margin-bottom: 30px;">
    <h2 style="margin-bottom: 25px; text-align: center;">üìö –û—Ç—á–µ—Ç—ã –ø–æ —É—Ä–æ–∫–∞–º –∏ –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</h2>
    
    <!-- –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã —Å–æ —Å—á–µ—Ç—á–∏–∫–æ–º -->
    <div style="background: var(--bg-card); border-radius: 12px; padding: 20px; margin-bottom: 25px; border: 1px solid var(--border-secondary);">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
            
            <!-- –í—ã–±–æ—Ä –¥–∞—Ç—ã -->
            <div style="flex: 1; min-width: 200px;">
                <label for="date_select" style="display: block; margin-bottom: 8px; font-weight: bold;">
                    –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é –¥–∞—Ç—É:
                </label>
                <select id="date_select" style="width: 100%; padding: 10px; border-radius: 8px;">
                    <option value="today">–°–µ–≥–æ–¥–Ω—è (15.08.2025)</option>
                    <option value="yesterday">–í—á–µ—Ä–∞ (14.08.2025)</option>
                    <option value="2025-08-13">13.08.2025 (–≤—Ç–æ—Ä–Ω–∏–∫)</option>
                    <option value="2025-08-12">12.08.2025 (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)</option>
                    <option value="2025-08-11">11.08.2025 (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ)</option>
                </select>
            </div>
            
            <!-- –°—á–µ—Ç—á–∏–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —É—Ä–æ–∫–æ–≤ -->
            <div style="text-align: center;">
                <div style="font-size: 14px; color: var(--text-muted); margin-bottom: 5px;">
                    –¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è:
                </div>
                <div style="display: flex; gap: 15px; align-items: center;">
                    <div style="text-align: center;">
                        <div style="font-size: 24px; font-weight: bold; color: #ef4444;">
                            3
                        </div>
                        <div style="font-size: 12px; color: var(--text-muted);">
                            –±–µ–∑ –¥–æ–º–∞—à–∫–∏
                        </div>
                    </div>
                    <div style="font-size: 18px; color: var(--text-muted);">/</div>
                    <div style="text-align: center;">
                        <div style="font-size: 24px; font-weight: bold; color: #f59e0b;">
                            2
                        </div>
                        <div style="font-size: 12px; color: var(--text-muted);">
                            –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
<!-- –ë–ª–æ–∫–∏ —Å —É—Ä–æ–∫–∞–º–∏ - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä -->
    <div style="display: grid; grid-template-columns: 1fr; gap: 20px; margin-bottom: 30px;">
        
        <!-- –£—Ä–æ–∫–∏ –≤—á–µ—Ä–∞ - 3 —É—Ä–æ–∫–∞ (1 —Å—Ç—Ä–æ–∫–∞) -->
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <td style="width: 200px; background: var(--accent-gradient); color: white; padding: 20px; 
                           font-weight: bold; font-size: 18px; text-align: center; vertical-align: middle; 
                           border-right: 2px solid var(--border-secondary);">
                    –£—Ä–æ–∫–∏ –≤—á–µ—Ä–∞<br>
                    <span style="font-size: 14px; font-weight: normal;">(14.08.2025)</span>
                </td>
                
                <!-- –£—Ä–æ–∫ 1 -->
                <td style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(127, 29, 29, 0.2)); 
                           border-left: 4px solid #ef4444; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" 
                    onclick="selectLesson('lesson_1')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        16:30
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–§–∞—Ä–∏–¥–∞</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</div>
                    <div style="font-size: 12px; color: #ef4444; font-weight: bold;">‚ö†Ô∏è –ù–µ—Ç –¥–æ–º–∞—à–∫–∏</div>
                </td>
                
                <!-- –£—Ä–æ–∫ 2 -->
                <td style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(217, 119, 6, 0.2)); 
                           border-left: 4px solid #f59e0b; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" 
                    onclick="selectLesson('lesson_2')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        18:00
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–ú–∞—Ç–≤–µ–π</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–§–∏–∑–∏–∫–∞</div>
                    <div style="font-size: 12px; color: #f59e0b; font-weight: bold;">üìã –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞</div>
                </td>
                
                <!-- –£—Ä–æ–∫ 3 -->
                <td style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(6, 95, 70, 0.2)); 
                           border-left: 4px solid #10b981; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" 
                    onclick="selectLesson('lesson_3')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        19:30
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–ú–∞—Ä–∫</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</div>
                    <div style="font-size: 12px; color: #10b981; font-weight: bold;">‚úÖ –í—Å–µ –≥–æ—Ç–æ–≤–æ</div>
                </td>
                
                <!-- –ü—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ -->
                <td style="background: var(--bg-card); padding: 15px; border-right: 1px solid var(--border-secondary); width: 200px;">
                    <div style="text-align: center; color: var(--text-muted); font-style: italic;">–ù–µ—Ç —É—Ä–æ–∫–∞</div>
                </td>
                
                <td style="background: var(--bg-card); padding: 15px; border-right: 1px solid var(--border-secondary); width: 200px;">
                    <div style="text-align: center; color: var(--text-muted); font-style: italic;">–ù–µ—Ç —É—Ä–æ–∫–∞</div>
                </td>
                
                <td style="background: var(--bg-card); padding: 15px; width: 200px;">
                    <div style="text-align: center; color: var(--text-muted); font-style: italic;">–ù–µ—Ç —É—Ä–æ–∫–∞</div>
                </td>
            </tr>
        </table>
        
        <!-- –£—Ä–æ–∫–∏ —Å–µ–≥–æ–¥–Ω—è - 12 —É—Ä–æ–∫–æ–≤ (2 —Å—Ç—Ä–æ–∫–∏) -->
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–∞ 2 —Å—Ç—Ä–æ–∫–∏ -->
                <td rowspan="2" style="width: 200px; background: var(--accent-gradient); color: white; padding: 20px; 
                           font-weight: bold; font-size: 18px; text-align: center; vertical-align: middle; 
                           border-right: 2px solid var(--border-secondary);">
                    –£—Ä–æ–∫–∏ —Å–µ–≥–æ–¥–Ω—è<br>
                    <span style="font-size: 14px; font-weight: normal;">(15.08.2025)</span>
                </td>
                
                <!-- –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞: 6 —É—Ä–æ–∫–æ–≤ -->
                <td style="background: linear-gradient(135deg, rgba(0, 212, 255, 0.2), rgba(30, 58, 138, 0.2)); 
                           border-left: 4px solid #00d4ff; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" onclick="selectLesson('lesson_4')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        10:00
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–î–∞—Ä—å—è</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</div>
                    <div style="font-size: 12px; color: #00d4ff; font-weight: bold;">üïê –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω</div>
                </td>
                
                <td style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(127, 29, 29, 0.2)); 
                           border-left: 4px solid #ef4444; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" onclick="selectLesson('lesson_5')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        11:30
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–ú–∞—Ç–≤–µ–π</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–§–∏–∑–∏–∫–∞</div>
                    <div style="font-size: 12px; color: #ef4444; font-weight: bold;">‚ö†Ô∏è –ù–µ—Ç –¥–æ–º–∞—à–∫–∏</div>
                </td>
                
                <td style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(217, 119, 6, 0.2)); 
                           border-left: 4px solid #f59e0b; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" onclick="selectLesson('lesson_6')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        13:00
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–õ–∏–∑–∞</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–•–∏–º–∏—è</div>
                    <div style="font-size: 12px; color: #f59e0b; font-weight: bold;">üìã –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞</div>
                </td>
                
                <td style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(6, 95, 70, 0.2)); 
                           border-left: 4px solid #10b981; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" onclick="selectLesson('lesson_7')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        14:30
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–ê–ª–µ–∫—Å–µ–π</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</div>
                    <div style="font-size: 12px; color: #10b981; font-weight: bold;">‚úÖ –í—Å–µ –≥–æ—Ç–æ–≤–æ</div>
                </td>
                
                <td style="background: linear-gradient(135deg, rgba(0, 212, 255, 0.2), rgba(30, 58, 138, 0.2)); 
                           border-left: 4px solid #00d4ff; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" onclick="selectLesson('lesson_8')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        16:00
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–°–æ—Ñ–∏—è</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–§–∏–∑–∏–∫–∞</div>
                    <div style="font-size: 12px; color: #00d4ff; font-weight: bold;">üïê –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω</div>
                </td>
                
                <td style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(127, 29, 29, 0.2)); 
                           border-left: 4px solid #ef4444; padding: 15px; cursor: pointer; width: 200px;" 
                    onclick="selectLesson('lesson_9')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        17:30
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–ò–≤–∞–Ω</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–•–∏–º–∏—è</div>
                    <div style="font-size: 12px; color: #ef4444; font-weight: bold;">‚ö†Ô∏è –ù–µ—Ç –¥–æ–º–∞—à–∫–∏</div>
                </td>
            </tr>
            <tr>
                <!-- –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞: –µ—â–µ 6 —É—Ä–æ–∫–æ–≤ -->
                <td style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(217, 119, 6, 0.2)); 
                           border-left: 4px solid #f59e0b; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" onclick="selectLesson('lesson_10')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        19:00
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</div>
                    <div style="font-size: 12px; color: #f59e0b; font-weight: bold;">üìã –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞</div>
                </td>
                
                <td style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(6, 95, 70, 0.2)); 
                           border-left: 4px solid #10b981; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" onclick="selectLesson('lesson_11')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        20:30
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–ê–Ω–¥—Ä–µ–π</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–§–∏–∑–∏–∫–∞</div>
                    <div style="font-size: 12px; color: #10b981; font-weight: bold;">‚úÖ –í—Å–µ –≥–æ—Ç–æ–≤–æ</div>
                </td>
                
                <td style="background: linear-gradient(135deg, rgba(0, 212, 255, 0.2), rgba(30, 58, 138, 0.2)); 
                           border-left: 4px solid #00d4ff; padding: 15px; cursor: pointer; width: 200px;
                           border-right: 1px solid var(--border-secondary);" onclick="selectLesson('lesson_12')">
                    <div style="background: var(--accent-gradient); color: white; padding: 8px 12px; border-radius: 6px; 
                               font-size: 16px; font-weight: bold; margin-bottom: 10px; text-align: center; min-width: 70px;">
                        22:00
                    </div>
                    <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px;">–ü–æ–ª–∏–Ω–∞</div>
                    <div style="font-size: 14px; margin-bottom: 6px;">–•–∏–º–∏—è</div>
                    <div style="font-size: 12px; color: #00d4ff; font-weight: bold;">üïê –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω</div>
                </td>
                
                <td style="background: var(--bg-card); padding: 15px; border-right: 1px solid var(--border-secondary); width: 200px;">
                    <div style="text-align: center; color: var(--text-muted); font-style: italic;">–ù–µ—Ç —É—Ä–æ–∫–∞</div>
                </td>
                
                <td style="background: var(--bg-card); padding: 15px; border-right: 1px solid var(--border-secondary); width: 200px;">
                    <div style="text-align: center; color: var(--text-muted); font-style: italic;">–ù–µ—Ç —É—Ä–æ–∫–∞</div>
                </td>
                
                <td style="background: var(--bg-card); padding: 15px; width: 200px;">
                    <div style="text-align: center; color: var(--text-muted); font-style: italic;">–ù–µ—Ç —É—Ä–æ–∫–∞</div>
                </td>
            </tr>
        </table>
    </div>
    
    <!-- –§–æ—Ä–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —É—Ä–æ–∫–æ–º -->
    <div id="lesson_forms" style="border: 2px solid var(--accent-color, #00d4ff); border-radius: 15px; padding: 25px; display: none;">
        <div id="selected_lesson_info" style="background: var(--accent-gradient); color: white; padding: 15px; border-radius: 10px; margin-bottom: 25px; text-align: center; font-weight: bold; font-size: 18px;">
            –í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã
        </div>
        
        <!-- –§–æ—Ä–º–∞ –æ—Ç—á–µ—Ç–∞ –ø–æ —É—Ä–æ–∫—É -->
        <div style="margin-bottom: 30px;">
            <h3 style="color: var(--text-accent); margin-bottom: 20px;">üìù –û—Ç—á–µ—Ç –ø–æ —É—Ä–æ–∫—É</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px;">
                <div>
                    <label>–¢–µ–º–∞ —É—Ä–æ–∫–∞:</label>
                    <input type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è" style="width: 100%;">
                </div>
                
                <div>
                    <label>–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–µ–º—ã:</label>
                    <select style="width: 100%;">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å --</option>
                        <option value="full">–¢–µ–º–∞ —Ä–∞–∑–æ–±—Ä–∞–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é</option>
                        <option value="questions">–ï—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ç–µ–º–µ</option>
                        <option value="practice">–¢–µ–º—É –Ω—É–∂–Ω–æ –∑–∞–∫—Ä–µ–ø–∏—Ç—å</option>
                    </select>
                </div>
                
                <div>
                    <label>–ë–∞–ª–ª—ã –∑–∞ –ø—Ä–æ–±–Ω–∏–∫:</label>
                    <input type="number" min="0" max="100" placeholder="0-100" style="width: 100%;">
                </div>
            </div>
            
            <div style="margin-bottom: 20px;">
                <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è:</label>
                <textarea rows="3" placeholder="–ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç–∑—ã–≤ –æ —Ä–∞–±–æ—Ç–µ —É—á–µ–Ω–∏–∫–∞ –Ω–∞ —É—Ä–æ–∫–µ" style="width: 100%;"></textarea>
            </div>
            
            <div style="text-align: center;">
                <button class="btn success" style="margin-right: 10px;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç</button>
                <button class="btn danger">–£–¥–∞–ª–∏—Ç—å –æ—Ç—á–µ—Ç</button>
            </div>
        </div>
        
        <!-- –§–æ—Ä–º–∞ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è -->
        <div style="border-top: 2px solid var(--border-secondary); padding-top: 25px;">
            <h3 style="color: var(--text-accent); margin-bottom: 20px;">üè† –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px;">
                <div>
                    <label>–¢–∏–ø –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è:</label>
                    <select id="homework_type" onchange="toggleHomeworkFields()" style="width: 100%;">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø --</option>
                        <option value="tasks">–î–∞—Ç—å –∑–∞–¥–∞—á–∏</option>
                        <option value="none">–ù–µ –∑–∞–¥–∞–≤–∞—Ç—å –¥–æ–º–∞—à–∫—É</option>
                    </select>
                </div>
                
                <div id="homework_score_field" style="display: none;">
                    <label>–ü–µ—Ä–≤–∏—á–Ω—ã–µ –±–∞–ª–ª—ã:</label>
                    <input type="number" min="0" max="50" placeholder="0-50" style="width: 100%;">
                </div>
                
                <div id="homework_secondary_field" style="display: none;">
                    <label>–í—Ç–æ—Ä–∏—á–Ω—ã–µ –±–∞–ª–ª—ã:</label>
                    <input type="number" min="0" max="100" placeholder="0-100" style="width: 100%;">
                </div>
            </div>
            
            <div id="homework_content_fields" style="display: none;">
                <div style="margin-bottom: 20px;">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è:</label>
                    <textarea rows="3" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π" style="width: 100%;"></textarea>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                    <div>
                        <label>–í—Å–µ–≥–æ –∑–∞–¥–∞—á:</label>
                        <input type="number" min="0" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" style="width: 100%;">
                    </div>
                    
                    <div>
                        <label>–†–µ—à–µ–Ω–æ –∑–∞–¥–∞—á:</label>
                        <input type="number" min="0" placeholder="–í—ã–ø–æ–ª–Ω–µ–Ω–æ" style="width: 100%;">
                    </div>
                    
                    <div>
                        <label>–û—Ü–µ–Ω–∫–∞:</label>
                        <select style="width: 100%;">
                            <option value="">-- –û—Ü–µ–Ω–∫–∞ --</option>
                            <option value="5">5</option>
                            <option value="4">4</option>
                            <option value="3">3</option>
                            <option value="2">2</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center;">
                <button class="btn success" style="margin-right: 10px;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–æ–º–∞—à–∫—É</button>
                <button class="btn warning">–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—É—é</button>
            </div>
        </div>
    </div>
</div>

<!-- –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –±—ã–ª -->
<!-- –¢–∞–±–ª–∏—Ü–∞ —É—á–µ–Ω–∏–∫–æ–≤ -->
<div class="card" style="margin-bottom: 30px;">
    <h3 style="text-align: center; margin-bottom: 20px;">üéì –ê–∫–∫–∞—É–Ω—Ç—ã —É—á–µ–Ω–∏–∫–æ–≤</h3>
    
    {% if accounts_data %}
        <div style="overflow-x: auto;">
            <table class="accounts-table">
                <thead>
                    <tr>
                        <th>–£—á–µ–Ω–∏–∫</th>
                        <th>–ö–ª–∞—Å—Å</th>
                        <th>–õ–æ–≥–∏–Ω</th>
                        <th>–ü–∞—Ä–æ–ª—å</th>
                        <th>–õ–ö–£</th>
                    </tr>
                </thead>
                <tbody>
                    {% for account in accounts_data %}
                    <tr>
                        <td class="student-name">{{ account.student_name }}</td>
                        <td>{{ account.student_class }}</td>
                        
                        <!-- –õ–æ–≥–∏–Ω —É—á–µ–Ω–∏–∫–∞ -->
                        <td class="login-cell">
                            {% if account.has_student_account %}
                                <span class="login-text">{{ account.student_login }}</span>
                            {% else %}
                                <span class="no-account">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞</span>
                            {% endif %}
                        </td>
                        
                        <!-- –ü–∞—Ä–æ–ª—å —É—á–µ–Ω–∏–∫–∞ -->
                        <td class="password-cell">
                            {% if account.has_student_account %}
                                <span class="password-text">{{ account.student_password }}</span>
                            {% else %}
                                <span class="no-account">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞</span>
                            {% endif %}
                        </td>
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ –õ–ö–£ -->
                        <td class="action-cell">
                            {% if account.has_student_account %}
                                <a href="http://127.0.0.1:8080/admin-student/{{ account.student_id }}?token={{ admin_token }}" 
                                   class="icon-action icon-student" 
                                   title="–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —É—á–µ–Ω–∏–∫–∞">
                                    <svg viewBox="0 0 24 24" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                </a>
                            {% else %}
                                <span class="no-account">‚Äî</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <p style="text-align: center; color: var(--text-muted);">–ù–µ—Ç —É—á–µ–Ω–∏–∫–æ–≤</p>
    {% endif %}
</div>

<!-- –¢–∞–±–ª–∏—Ü–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ–π -->
<div class="card">
    <h3 style="text-align: center; margin-bottom: 20px;">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –ê–∫–∫–∞—É–Ω—Ç—ã —Ä–æ–¥–∏—Ç–µ–ª–µ–π</h3>
    
    {% if families_data %}
        <div style="overflow-x: auto;">
            <table class="accounts-table parents-table">
                <thead>
                    <tr>
                        <th>–†–æ–¥–∏—Ç–µ–ª—å</th>
                        <th>–î–µ—Ç–∏</th>
                        <th>–õ–æ–≥–∏–Ω</th>
                        <th>–ü–∞—Ä–æ–ª—å</th>
                        <th>–õ–ö–†</th>
                    </tr>
                </thead>
                <tbody>
                    {% for family in families_data %}
                    <tr>
                        <td class="parent-name">{{ family.parent_name }}</td>
                        <td class="children-list">
                            {% for child in family.children %}
                                <span class="child-tag">{{ child }}</span>{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                        
                        <!-- –õ–æ–≥–∏–Ω —Ä–æ–¥–∏—Ç–µ–ª—è -->
                        <td class="login-cell">
                            {% if family.has_parent_account %}
                                <span class="login-text">{{ family.parent_login }}</span>
                            {% else %}
                                <span class="no-account">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞</span>
                            {% endif %}
                        </td>
                        
                        <!-- –ü–∞—Ä–æ–ª—å —Ä–æ–¥–∏—Ç–µ–ª—è -->
                        <td class="password-cell">
                            {% if family.has_parent_account %}
                                <span class="password-text">{{ family.parent_password }}</span>
                            {% else %}
                                <span class="no-account">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞</span>
                            {% endif %}
                        </td>
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ –õ–ö–† -->
                        <td class="action-cell">
                            {% if family.has_parent_account %}
                                <a href="http://127.0.0.1:8080/admin-parent/{{ family.parent_name }}?token={{ admin_token }}" 
                                   class="icon-action icon-parent" 
                                   title="–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è">
                                    <svg viewBox="0 0 24 24" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="9" cy="7" r="4"></circle>
                                        <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                    </svg>
                                </a>
                            {% else %}
                                <span class="no-account">‚Äî</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <p style="text-align: center; color: var(--text-muted);">–ù–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª–µ–π</p>
    {% endif %}
</div>

<script>
// –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —É—Ä–æ–∫–∞
let selectedLesson = null;

// –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —É—Ä–æ–∫–∞
function selectLesson(lessonId) {
    selectedLesson = lessonId;
    
    // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤
    document.querySelectorAll('[onclick*="selectLesson"]').forEach(lesson => {
        lesson.style.boxShadow = '';
        lesson.style.transform = '';
    });
    
    // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —É—Ä–æ–∫
    event.currentTarget.style.boxShadow = '0 0 0 3px rgba(0, 212, 255, 0.5)';
    event.currentTarget.style.transform = 'scale(1.02)';
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—ã
    document.getElementById('lesson_forms').style.display = 'block';
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —É—Ä–æ–∫–µ
    const lessonInfo = {
        'lesson_1': '–§–∞—Ä–∏–¥–∞ - –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (16:30, 14.08.2025)',
        'lesson_2': '–ú–∞—Ç–≤–µ–π - –§–∏–∑–∏–∫–∞ (18:00, 14.08.2025)', 
        'lesson_3': '–ú–∞—Ä–∫ - –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (19:30, 14.08.2025)',
        'lesson_4': '–î–∞—Ä—å—è - –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (12:00, 15.08.2025)',
        'lesson_5': '–ú–∞—Ç–≤–µ–π - –§–∏–∑–∏–∫–∞ (13:00, 15.08.2025)'
    };
    
    document.getElementById('selected_lesson_info').innerHTML = 
        `–†–∞–±–æ—Ç–∞–µ–º —Å —É—Ä–æ–∫–æ–º: ${lessonInfo[lessonId]}`;
}

// –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª–µ–π –¥–æ–º–∞—à–∫–∏
function toggleHomeworkFields() {
    const homeworkType = document.getElementById('homework_type').value;
    const contentFields = document.getElementById('homework_content_fields');
    const scoreField = document.getElementById('homework_score_field');
    const secondaryField = document.getElementById('homework_secondary_field');
    
    if (homeworkType === 'tasks') {
        contentFields.style.display = 'block';
        scoreField.style.display = 'block';
        secondaryField.style.display = 'block';
    } else {
        contentFields.style.display = 'none';
        scoreField.style.display = 'none';
        secondaryField.style.display = 'none';
    }
}

// –§—É–Ω–∫—Ü–∏—è —Å–º–µ–Ω—ã –¥–∞—Ç—ã
document.addEventListener('DOMContentLoaded', function() {
    const dateSelect = document.getElementById('date_select');
    
    dateSelect.addEventListener('change', function() {
        // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–∫–æ–≤ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∞—Ç—ã
        console.log('–í—ã–±—Ä–∞–Ω–∞ –¥–∞—Ç–∞:', this.value);
        // –í —Ä–µ–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Ç—É—Ç –±—É–¥–µ—Ç AJAX –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–∫–æ–≤
    });
});
</script>

{% endblock %}