{% extends "base.html" %}
{% block content %}
<div style="text-align: center; margin-bottom: 30px;">
    <h2>–®–∞–±–ª–æ–Ω –Ω–µ–¥–µ–ª–∏</h2>
</div>

<div class="card" style="margin-bottom: 30px;">
    <h3>–î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫ –≤ —à–∞–±–ª–æ–Ω</h3>
    <form method="post">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
            <div>
                <label for="day">–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏:</label>
                <select name="day" id="day" required style="width: 100%; height: 44px; padding: 0 12px; border-radius: 8px; font-size: 16px;">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å</option>
                    <option value="–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</option>
                    <option value="–í—Ç–æ—Ä–Ω–∏–∫">–í—Ç–æ—Ä–Ω–∏–∫</option>
                    <option value="–°—Ä–µ–¥–∞">–°—Ä–µ–¥–∞</option>
                    <option value="–ß–µ—Ç–≤–µ—Ä–≥">–ß–µ—Ç–≤–µ—Ä–≥</option>
                    <option value="–ü—è—Ç–Ω–∏—Ü–∞">–ü—è—Ç–Ω–∏—Ü–∞</option>
                    <option value="–°—É–±–±–æ—Ç–∞">–°—É–±–±–æ—Ç–∞</option>
                    <option value="–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ">–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ</option>
                </select>
            </div>
            
            <div>
                <label for="time">–í—Ä–µ–º—è:</label>
                <input type="time" name="time" id="time" required style="width: 100%; height: 44px; padding: 0 12px; border-radius: 8px; font-size: 16px;">
            </div>
            
            <div>
                <label for="student_name">–£—á–µ–Ω–∏–∫:</label>
                <select name="student_name" id="student_name" required style="width: 100%; height: 44px; padding: 0 12px; border-radius: 8px; font-size: 16px;">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—á–µ–Ω–∏–∫–∞</option>
                    {% for student in students %}
                        <option value="{{ student.name }}">{{ student.name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <div>
                <label for="subject">–ü—Ä–µ–¥–º–µ—Ç:</label>
                <select name="subject" id="subject" required onchange="toggleCustomSubject()" style="width: 100%; height: 44px; padding: 0 12px; border-radius: 8px; font-size: 16px;">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç</option>
                    <option value="–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
                    <option value="–§–∏–∑–∏–∫–∞">–§–∏–∑–∏–∫–∞</option>
                    <option value="–•–∏–º–∏—è">–•–∏–º–∏—è</option>
                    <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
                </select>
            </div>
        </div>
        
        <div id="custom_subject_div" style="display: none; margin-bottom: 20px;">
            <label for="custom_subject">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞:</label>
            <input type="text" name="custom_subject" id="custom_subject" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ë–∏–æ–ª–æ–≥–∏—è, –ò—Å—Ç–æ—Ä–∏—è">
        </div>
        
        <!-- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø–µ—Ä–∏–æ–¥—ã –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ -->
        <div class="info-panel" style="display: flex; gap: 32px; align-items: flex-start; margin-bottom: 20px; flex-wrap: wrap;">
            <div style="min-width:220px; flex:1;">
                <label for="lesson_duration" style="display: block; margin-bottom: 8px; font-weight: bold; color: var(--text-primary);">
                    –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Ä–æ–∫–∞ (–º–∏–Ω—É—Ç—ã):
                </label>
                <input type="number" name="lesson_duration" id="lesson_duration" 
                       min="10" max="300" value="60" step="5"
                       style="width: 200px;">
                <small style="color: var(--text-muted); font-size: 12px; display: block; margin-top: 5px;">
                    –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 60 –º–∏–Ω—É—Ç. –£—Ä–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
                </small>
            </div>
            <div style="flex:2; min-width: 260px;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div>
                        <label for="start_date">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –∑–∞–Ω—è—Ç–∏–π:</label>
                        <input type="date" name="start_date" id="start_date">
                        <small style="color: var(--text-muted); font-size: 12px; display: block; margin-top: 5px;">
                            –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –Ω–∞—á–∞–ª–∞
                        </small>
                    </div>
                    <div>
                        <label for="end_date">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏–π:</label>
                        <input type="date" name="end_date" id="end_date">
                        <small style="color: var(--text-muted); font-size: 12px; display: block; margin-top: 5px;">
                            –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –±–µ—Å—Å—Ä–æ—á–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π
                        </small>
                    </div>
                </div>
            </div>
        </div>
        
        </div>
        
    </form>
</div>

<!-- –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô –í –ï–î–ò–ù–û–ú –ë–õ–û–ö–ï (–∫–∞–∫ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏) -->
<div style="text-align: center; margin-bottom: 30px;">
    <div style="display: flex; gap: 24px; align-items: center; justify-content: center;">
        
        <!-- –î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫ –≤ —à–∞–±–ª–æ–Ω (–≥–∞–ª–æ—á–∫–∞) -->
        <span title="–î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫ –≤ —à–∞–±–ª–æ–Ω" class="icon-action" 
              onclick="document.querySelector('form[method=post]').submit();" 
              style="cursor: pointer; width: 48px !important; height: 48px !important;">
            <svg viewBox="0 0 24 24" width="38" height="38" style="width: 38px !important; height: 38px !important;" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="8 12 11 15 16 9"/>
            </svg>
        </span>
        
        {% if template %}
        <!-- –ü—Ä–∏–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω (—Å—Ç—Ä–µ–ª–∫–∞ –≤–≤–µ—Ä—Ö) -->
        <form action="{{ url_for('apply_template_week') }}" method="post" style="margin: 0; display: inline;">
            <span title="–ü—Ä–∏–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω –∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é" class="icon-action" 
                  onclick="if(confirm('–ü—Ä–∏–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω –∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é?\n\n–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –∑–∞–Ω—è—Ç–∏—è –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–∫–∞.\n–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?')) { this.closest('form').submit(); }" 
                  style="cursor: pointer; width: 48px !important; height: 48px !important;">
                <svg viewBox="0 0 24 24" width="38" height="38" style="width: 38px !important; height: 38px !important;" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="16"/>
                    <polyline points="8 12 12 8 16 12"/>
                </svg>
            </span>
        </form>
        {% endif %}
        
    </div>
</div>

<script>
function toggleCustomSubject() {
    const subjectSelect = document.getElementById('subject');
    const customSubjectDiv = document.getElementById('custom_subject_div');
    const customSubjectInput = document.getElementById('custom_subject');
    
    if (subjectSelect.value === '–î—Ä—É–≥–æ–µ') {
        customSubjectDiv.style.display = 'block';
        customSubjectInput.required = true;
    } else {
        customSubjectDiv.style.display = 'none';
        customSubjectInput.required = false;
        customSubjectInput.value = '';
    }
}

function applyTemplate() {
    if (confirm('–ü—Ä–∏–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω –∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é?\n\n–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –∑–∞–Ω—è—Ç–∏—è –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–∫–∞.\n–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?')) {
        const form = document.createElement('form');
        form.method = 'post';
        form.action = '{{ url_for("apply_template_week") }}';
        form.style.display = 'none';
        document.body.appendChild(form);
        form.submit();
    }
}

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤—Ç—Ä–∞—à–Ω—é—é –¥–∞—Ç—É –∫–∞–∫ –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞
document.addEventListener('DOMContentLoaded', function() {
    const tomorrow = new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);
    const tomorrowStr = tomorrow.toISOString().split('T')[0];
    document.getElementById('start_date').value = tomorrowStr;
});
</script>

{% if template %}
<div style="margin-bottom: 30px;">
    <div style="margin-bottom: 20px;">
        <h3>–¢–µ–∫—É—â–∏–π —à–∞–±–ª–æ–Ω –Ω–µ–¥–µ–ª–∏</h3>
    </div>
    
    <!-- –ù–µ–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ -->
    <div class="calendar-grid">
        <div class="week-grid">
            
            <!-- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏ -->
            <div class="week-day-header">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</div>
            <div class="week-day-header">–í—Ç–æ—Ä–Ω–∏–∫</div>
            <div class="week-day-header">–°—Ä–µ–¥–∞</div>
            <div class="week-day-header">–ß–µ—Ç–≤–µ—Ä–≥</div>
            <div class="week-day-header">–ü—è—Ç–Ω–∏—Ü–∞</div>
            <div class="week-day-header">–°—É–±–±–æ—Ç–∞</div>
            <div class="week-day-header">–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ</div>
            
            <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–Ω–µ–π -->
            {% set days = ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–í—Ç–æ—Ä–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–ü—è—Ç–Ω–∏—Ü–∞", "–°—É–±–±–æ—Ç–∞", "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"] %}
            {% for day in days %}
            <div class="week-day-column">
                
                {% set day_lessons = [] %}
                {% for lesson in template %}
                    {% if lesson.day == day %}
                        {% set _ = day_lessons.append(lesson) %}
                    {% endif %}
                {% endfor %}
                
                {% if day_lessons %}
                    {% for lesson in day_lessons|sort(attribute='time') %}
                    <!-- –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ -->
                    {% set lesson_index = template.index(lesson) %}
                    <div class="lesson-slot" 
                        style="{% if lesson.get('lesson_type') == 'trial' %}background: var(--lesson-trial-bg); border-left-color: var(--lesson-trial-border); color: var(--lesson-trial-text);{% else %}background: var(--lesson-regular-bg); border-left-color: var(--lesson-regular-border); color: var(--lesson-regular-text);{% endif %} position: relative;">
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É -->
                        <span class="delete-lesson-btn" 
                            onclick="event.stopPropagation(); deleteTemplateLesson({{ lesson_index }}, '{{ lesson.student }}', '{{ lesson.time }}', '{{ lesson.day }}');"
                            title="–£–¥–∞–ª–∏—Ç—å —É—Ä–æ–∫ –∏–∑ —à–∞–±–ª–æ–Ω–∞"
                            style="position: absolute; top: 10px; right: 10px; width: 26px; height: 26px; 
                                    background: rgba(239, 68, 68, 0.9); color: white; border-radius: 50%; 
                                    cursor: pointer; display: flex; align-items: center; justify-content: center;
                                    font-size: 16px; font-weight: bold; line-height: 1;
                                    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4);
                                    font-family: Arial, sans-serif;">
                            √ó
                        </span>
                        
                        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —É—Ä–æ–∫–∞ (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) -->
                        <div onclick="window.location.href='/—à–∞–±–ª–æ–Ω-–Ω–µ–¥–µ–ª–∏/—É—Ä–æ–∫/{{ lesson_index }}/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å'"
                            style="cursor: pointer; padding-right: 40px;">
                            
                            <!-- –í—Ä–µ–º—è –∫–∞–∫ –±–æ–ª—å—à–∞—è —à–∞–ø–æ—á–∫–∞ -->
                            <div style="background: {% if lesson.get('lesson_type') == 'trial' %}var(--warning-gradient){% else %}var(--accent-gradient){% endif %}; 
                                    color: white; 
                                    padding: 8px 12px; 
                                    border-radius: 6px; 
                                    font-size: 16px; 
                                    font-weight: bold; 
                                    margin-bottom: 12px; 
                                    display: inline-block;
                                    min-width: 80px;
                                    text-align: center;">
                                {{ lesson.time }}
                                {% if lesson.get('lesson_type') == 'trial' %}
                                    <span style="font-size: 12px; margin-left: 8px;">(–ü–†–û–ë–ù–´–ô)</span>
                                {% endif %}
                            </div>
                            
                            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–Ω—è—Ç–∏–∏ -->
                            <div style="font-weight: bold; margin-bottom: 6px; font-size: 16px; display: flex; align-items: center;">
                                {% set subject_class = '' %}
                                {% if lesson.subject == '–•–∏–º–∏—è' %}
                                    {% set subject_class = 'chemistry' %}
                                {% elif lesson.subject == '–§–∏–∑–∏–∫–∞' %}
                                    {% set subject_class = 'physics' %}
                                {% elif lesson.subject == '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞' %}
                                    {% set subject_class = 'math' %}
                                {% elif lesson.get('lesson_type') == 'trial' or '–ü—Ä–æ–±–Ω—ã–π' in lesson.subject %}
                                    {% set subject_class = 'trial' %}
                                {% endif %}
                                
                                {% if subject_class %}
                                    <span class="subject-icon {{ subject_class }}"></span>
                                {% endif %}
                                {{ lesson.student }}
                            </div>
                            
                            <!-- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Ä–æ–∫–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ 60 –º–∏–Ω—É—Ç) -->
                            {% if lesson.get('lesson_duration', 60) != 60 %}
                            <div style="background: rgba(0,0,0,0.1); color: var(--text-muted); padding: 4px 8px; border-radius: 4px; font-size: 12px; display: inline-block;">
                                {{ lesson.get('lesson_duration', 60) }} –º–∏–Ω
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div style="text-align: center; color: var(--text-muted); font-style: italic; margin-top: 50px;">
                        –ù–µ—Ç —É—Ä–æ–∫–æ–≤
                    </div>
                {% endif %}
                
            </div>
            {% endfor %}
            
        </div>
    </div>
</div>
{% else %}
<div class="empty-state">
    <h3 style="color: var(--text-muted); margin-bottom: 15px;">–®–∞–±–ª–æ–Ω –Ω–µ–¥–µ–ª–∏ –ø—É—Å—Ç</h3>
    <p style="color: var(--text-muted);">
        –î–æ–±–∞–≤—å—Ç–µ —É—Ä–æ–∫–∏ –≤ —à–∞–±–ª–æ–Ω, —á—Ç–æ–±—ã –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
    </p>
</div>
{% endif %}

<!-- –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –°–¢–ò–õ–ò -->
<style>
/* –ü–ï–†–ï–ë–ò–í–ê–ï–ú –†–ê–ó–ú–ï–†–´ –ò–ö–û–ù–û–ö */
.icon-action[style*="width:80px"] {
    width: 80px !important;
    height: 80px !important;
}

.icon-action[style*="width:80px"] svg {
    width: 64px !important;
    height: 64px !important;
}

/* –ò–°–ü–†–ê–í–õ–Ø–ï–ú –ü–û–õ–ï –í–†–ï–ú–ï–ù–ò */
#time {
    background: rgba(44, 62, 80, 0.9) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: #D9F6F4 !important;
    width: 100% !important;
    max-width: none !important;
}

[data-theme="light"] #time {
    background: #ffffff !important;
    border: 1px solid #ccc !important;
    color: #2C3E50 !important;
}
</style>

<script>
// –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —É—Ä–æ–∫–∞ –∏–∑ —à–∞–±–ª–æ–Ω–∞
function deleteTemplateLesson(index, studentName, time, day) {
    const message = `–£–¥–∞–ª–∏—Ç—å —É—Ä–æ–∫ –∏–∑ —à–∞–±–ª–æ–Ω–∞ –Ω–µ–¥–µ–ª–∏?\n\n` +
                   `üë§ –£—á–µ–Ω–∏–∫: ${studentName}\n` +
                   `üïê –í—Ä–µ–º—è: ${time}\n` +
                   `üìÖ –î–µ–Ω—å: ${day}\n\n` +
                   `‚ö†Ô∏è –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ:\n` +
                   `‚Ä¢ –£–¥–∞–ª–∏—Ç —É—Ä–æ–∫ –∏–∑ —à–∞–±–ª–æ–Ω–∞ –Ω–∞–≤—Å–µ–≥–¥–∞\n` +
                   `‚Ä¢ –£–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–∏ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è\n` +
                   `‚Ä¢ –ù–æ–≤—ã–µ —É—Ä–æ–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è\n\n` +
                   `–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?`;
    
    if (confirm(message)) {
        // –°–æ–∑–¥–∞–µ–º —Ñ–æ—Ä–º—É –¥–ª—è POST –∑–∞–ø—Ä–æ—Å–∞
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = `/—à–∞–±–ª–æ–Ω-–Ω–µ–¥–µ–ª–∏/—É–¥–∞–ª–∏—Ç—å/${index}`;
        form.style.display = 'none';
        
        document.body.appendChild(form);
        form.submit();
    }
}

// –ö—Ä–∞—Å–∏–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è
document.addEventListener('DOMContentLoaded', function() {
    const style = document.createElement('style');
    style.textContent = `
        /* –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        .delete-lesson-btn {
            opacity: 0;
            visibility: hidden;
            transform: scale(0.8);
            transition: all 0.3s ease;
        }
        
        /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —É—Ä–æ–∫ */
        .lesson-slot:hover .delete-lesson-btn {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Å–∞–º—É –∫–Ω–æ–ø–∫—É */
        .delete-lesson-btn:hover {
            background: #dc2626 !important;
            transform: scale(1.15) !important;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.6) !important;
        }
        
        /* –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .lesson-slot {
            transition: all 0.3s ease;
        }
        
        .lesson-slot:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
    `;
    document.head.appendChild(style);
});
</script>

{% endblock %}